@model CarRental.Models.Car

@{
    ViewData["Title"] = "Edit Car";
}

<main class="main__content_wrapper">
    <div class="dashboard__container add__property--container">
        <div class="add__property--heading mb-30 text-center">
            <h2 class="add__property--heading__title">Edit Car</h2>
        </div>
        <div class="add__property__inner d-flex justify-content-center">
            <div class="add__property--box mb-30 w-50">
                <h3 class="add__property--box__title mb-20">Car Details</h3>
                <form class="add__property--form" asp-action="Edit" enctype="multipart/form-data">
                    <div class="row">
                        <div class="col-12">
                            <input type="hidden" asp-for="CarID" />
                        </div>
                        <div class="col-12">
                            <div class="add__listing--input__box mb-20">
                                <label class="add__listing--input__label" for="Brand">Brand</label>
                                <input class="add__listing--input__field" id="Brand" name="Brand" asp-for="Brand" type="text" />
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="add__listing--input__box mb-20">
                                <label class="add__listing--input__label" for="Model">Model</label>
                                <input class="add__listing--input__field" id="Model" name="Model" asp-for="Model" type="text" />
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="add__listing--input__box mb-20">
                                <label class="add__listing--input__label" for="Year">Year</label>
                                <input class="add__listing--input__field" id="Year" name="Year" asp-for="Year" type="number" min="1900" max="2025" />
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="add__listing--input__box mb-20">
                                <label class="add__listing--input__label" for="Seats">Seats</label>
                                <input class="add__listing--input__field" id="Seats" name="Seats" asp-for="Seats" type="number" min="1" max="10" />
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="add__listing--input__box mb-20">
                                <label class="add__listing--input__label" for="FuelType">Fuel Type</label>
                                <select class="add__listing--form__select" id="FuelType" name="FuelType" asp-for="FuelType" asp-items="@ViewBag.FuelTypeList"></select>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="add__listing--input__box mb-20">
                                <label class="add__listing--input__label" for="Transmission">Transmission</label>
                                <select class="add__listing--form__select" id="Transmission" name="Transmission" asp-for="Transmission" asp-items="@ViewBag.TransmissionList"></select>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="add__listing--input__box mb-20">
                                <label class="add__listing--input__label" for="DailyRate">Daily Rate</label>
                                <input class="add__listing--input__field" id="DailyRate" name="DailyRate" asp-for="DailyRate" type="number" step="0.01" min="1" />
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="add__listing--input__box mb-20">
                                <label class="add__listing--input__label" for="Status">Status</label>
                                <select class="add__listing--form__select" id="Status" name="Status" asp-for="Status" asp-items="@ViewBag.StatusList"></select>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="add__listing--input__box mb-20">
                                <label class="add__listing--input__label">Upload Car Image</label>
                                <label class="btn btn-primary btn-md btn-file" style="cursor: pointer;">
                                    Car Image
                                    <input type="file" id="ImageFile" name="ImageFile" hidden onchange="showFileName(this)">
                                </label>
                                <span id="file-name" class="ml-2 text-muted"></span>
                            </div>
                        </div>
                    </div>
                    <button class="solid__btn add__property--btn">Save Changes</button>
                </form>
            </div>
        </div>
        <div class="text-center mt-3">
            <a href="/Dashboard/Cars/Index">Back to List</a>
        </div>
    </div>
</main>

<script>
    function showFileName(input) {
        const fileName = input.files[0]?.name || "No file chosen";
        document.getElementById('file-name').innerText = fileName;
    }
</script>
